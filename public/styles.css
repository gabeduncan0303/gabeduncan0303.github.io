* {
  box-sizing: border-box;
  font-family: 'Segoe UI', sans-serif;
  margin: 0;
  padding: 0;
}

body {
  background: #f5f7fa;
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
}

.container {
  max-width: 900px;
  margin: 40px auto;
  background: white;
  border-radius: 12px;
  padding: 30px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

h1 {
  margin-bottom: 20px;
  color: #333;
  text-align: center;
}

a { text-decoration: none; color: #007bff; }

/* Forms */
form { display: flex; flex-direction: column; gap: 15px; }
input[type="text"], input[type="password"], input[type="file"], button {
  padding: 10px;
  font-size: 16px;
}
input, button { border-radius: 8px; border: 1px solid #ccc; }
button {
  background: #007bff; color: white; cursor: pointer; transition: background 0.2s ease;
}
button:hover { background: #0056b3; }
.delete-form { margin-top: 8px; }
.delete-btn {
  padding: 6px 10px; border: none; border-radius: 8px; background: #dc3545; color: #fff; cursor: pointer;
}
.delete-btn:hover { opacity: 0.9; }

.search-form { display: flex; gap: 8px; margin-bottom: 12px; }
.search-form input { padding: 6px 8px; border: 1px solid #ccc; border-radius: 8px; }
.search-form button { padding: 6px 10px; border: none; border-radius: 8px; }
.search-form a { align-self: center; }

.sort-bar, .view-bar {
  display: flex; gap: 10px; align-items: center; flex-wrap: wrap; margin-bottom: 12px;
}
.sort-bar label, .view-bar label { display: flex; gap: 6px; align-items: center; font-size: 14px; color: #333; }
.sort-bar select, .view-bar select {
  padding: 6px 8px; border: 1px solid #ccc; border-radius: 8px; font-size: 14px;
}
.sort-bar button {
  padding: 6px 10px; border-radius: 8px; border: 1px solid #ccc; background: #f2f4f7; color: #333; cursor: pointer;
}
.sort-bar button:hover { background: #e6eaf0; }
.sort-bar .ghost { background: transparent; }

.gallery-wrapper { padding: 20px 40px; }

/* ========== GRID BASE ========== */
.gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--tile-w, 220px), 1fr));
  gap: var(--tile-gap, 16px);
}

/* Each item tile */
.gallery-item {
  position: relative;
  background: #0b0b0b;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,.15);
}

/* Thumb area (fixed ratio, centers media) */
.thumb {
  position: relative;
  width: 100%;
  aspect-ratio: auto;
  background: #000;
  overflow: hidden;

  display: flex;
  align-items: center;
  justify-content: center;
}

/* Video wrapper fills the thumb */
.video-wrap {
  position: relative;
  width: 100%;
  height: 100%;

  display: flex;
  align-items: center;
  justify-content: center;
}

/* Media fully visible, never cropped or distorted */
.thumb img,
.thumb video {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
  object-position: center;
  display: block;
  background: #000;
}

/* Meta text */
.meta { padding: 8px 10px; color: #eaeaea; font-size: var(--meta-size, 13px); }
.meta .name { font-weight: 600; color: #fff; margin-bottom: 2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.meta .sub { color: #bdbdbd; display: flex; gap: 6px; align-items: center; flex-wrap: wrap; }
.meta .sub .sep { opacity: .6; }

/* ========== VIEW SIZES (works with JS data-view) ========== */
/* Smallest, more columns */
.gallery[data-view="small"]  { --tile-w: 160px; --tile-gap: 12px; --meta-size: 12px; }
/* Default */
.gallery[data-view="medium"] { --tile-w: 220px; --tile-gap: 16px; --meta-size: 13px; }
/* Larger tiles */
.gallery[data-view="large"]  { --tile-w: 300px; --tile-gap: 18px; --meta-size: 14px; }
.gallery[data-view="xlarge"] { --tile-w: 380px; --tile-gap: 20px; --meta-size: 15px; }
.gallery[data-view="huge"]   { --tile-w: 520px; --tile-gap: 22px; --meta-size: 16px; }
.gallery[data-view="single"] { --tile-w: 700px; --tile-gap: 30px; --meta-size: 18px; }

/* In grid views, keep meta compact (hide subline) */
.gallery[data-view="small"] .meta .sub,
.gallery[data-view="medium"] .meta .sub,
.gallery[data-view="large"] .meta .sub,
.gallery[data-view="xlarge"] .meta .sub,
.gallery[data-view="huge"] .meta .sub { display: none; }

/* ========== LIST & DETAILS ========== */
.gallery[data-view="list"],
.gallery[data-view="details"] { display: block; }

.gallery[data-view="list"] .gallery-item,
.gallery[data-view="details"] .gallery-item {
  display: grid;
  grid-template-columns: 140px 1fr auto;
  align-items: center;
  padding: 8px;
  gap: 12px;
  background: #fff;
  color: #222;
  border-radius: 8px;
}

.gallery[data-view="list"] .thumb,
.gallery[data-view="details"] .thumb {
  width: 140px;
  height: 79px;   /* fixed row height for list/details */
  aspect-ratio: auto;
  border-radius: 6px;
  background: #000;

  display: flex;
  align-items: center;
  justify-content: center;
}

.gallery[data-view="list"] .meta,
.gallery[data-view="details"] .meta { padding: 0; color: #222; }
.gallery[data-view="list"] .meta .name,
.gallery[data-view="details"] .meta .name { color: #111; }
.gallery[data-view="list"] .meta .sub,
.gallery[data-view="details"] .meta .sub { color: #555; display: flex; }

.gallery[data-view="list"] .duration,
.gallery[data-view="list"] .duration-sep { display: none !important; }
.gallery[data-view="details"] .duration,
.gallery[data-view="details"] .duration-sep { display: inline-flex; }

.gallery[data-view="list"] .delete-form,
.gallery[data-view="details"] .delete-form { justify-self: end; }

/* ========== FULLSCREEN CONTROLS ========== */
.fs-box { position: relative; }
.fs-btn {
  position: absolute; right: 8px; padding: 6px 8px;
  border: 0; border-radius: 6px;
  background: rgba(0,0,0,.6); color: #fff;
  cursor: pointer; font-size: 14px; line-height: 1; z-index: 2;
}
.fs-btn:hover { background: rgba(0,0,0,.8); }
.fs-btn-img { bottom: 8px; }
.fs-btn-video { bottom: 44px; }

.fs-box:fullscreen img,
.fs-box:fullscreen video {
  width: 100vw !important;
  height: 100vh !important;
  object-fit: contain !important;
  background: #000 !important;
}
